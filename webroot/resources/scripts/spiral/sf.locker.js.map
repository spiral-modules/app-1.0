{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 264cf0ed84b80836f5cc","webpack:///./src/index.js","webpack:///external \"sf\"","webpack:///./src/Lock.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;;;;;;;;;;;;AAIA,cAAG,oBAAH;;AAEA,QAAO,OAAP,qE;;;;;;ACNA,gD;;;;;;ACAA;;;;;;;;;;;;;;;;;;;;AAQA,KAAI,OAAO,SAAP,IAAO,CAAU,EAAV,EAAc,IAAd,EAAoB,OAApB,EAA6B;AACpC,QAAK,UAAL,CAAgB,EAAhB,EAAoB,IAApB,EAA0B,OAA1B,EADoC;EAA7B;;;;;AAOX,MAAK,SAAL,GAAiB,aAAG,qBAAH,EAAjB;;;;;;AAMA,MAAK,SAAL,CAAe,IAAf,GAAsB,MAAtB;;;;;;;;;AASA,MAAK,SAAL,CAAe,UAAf,GAA4B,UAAU,EAAV,EAAc,IAAd,EAAoB,OAApB,EAA6B;AACrD,QAAK,IAAL,CAAU,EAAV,EAAc,IAAd,EAAoB,OAApB;AADqD,OAErD,CAAK,GAAL,CAAS,KAAK,OAAL,CAAa,IAAb,EAAmB,KAAK,IAAL,CAA5B,CAFqD;EAA7B;;;;;;;AAU5B,MAAK,SAAL,CAAe,GAAf,GAAqB,UAAU,IAAV,EAAgB,OAAhB,EAAyB;AAC1C,OAAI,CAAC,KAAK,KAAL,CAAW,cAAX,CAA0B,IAA1B,CAAD,EAAkC;AAClC,YAAO,KAAP,CADkC;IAAtC;AAGA,OAAI,OAAO,SAAS,aAAT,CAAuB,KAAvB,CAAP,CAJsC;AAK1C,QAAK,SAAL,GAAiB,KAAK,KAAL,CAAW,IAAX,EAAiB,SAAjB,IAA8B,YAA9B,CALyB;AAM1C,QAAK,SAAL,GAAiB,KAAK,KAAL,CAAW,IAAX,EAAiB,IAAjB,CANyB;AAO1C,WAAQ,WAAR,CAAoB,IAApB,EAP0C;AAQ1C,WAAQ,SAAR,CAAkB,GAAlB,CAAsB,QAAtB,EAR0C;AAS1C,UAAO,KAAK,KAAL,CAAW,IAAX,EAAiB,QAAjB,CATmC;EAAzB;;;;AAcrB,MAAK,SAAL,CAAe,GAAf,GAAqB,YAAY;AAC7B,QAAK,MAAL,GAD6B;EAAZ;;;;AAMrB,MAAK,SAAL,CAAe,MAAf,GAAwB,YAAY;AAChC,QAAK,IAAL,CAAU,SAAV,CAAoB,MAApB,CAA2B,QAA3B,EADgC;AAEhC,OAAI,SAAS,KAAK,IAAL,CAAU,aAAV,CAAwB,aAAxB,CAAT;AAF4B,OAG5B,MAAJ,EAAY;AACR,UAAK,IAAL,CAAU,WAAV,CAAsB,MAAtB,EADQ;IAAZ;AAGA,UAAO,IAAP,CANgC;EAAZ;;;;;AAYxB,MAAK,SAAL,CAAe,KAAf,GAAuB;;;;AAInB,YAAS;;;;;;AAML,WAAM,gCAAN;IANJ;AAQA,aAAU;;;;;;AAMN,WAAM,kEAAN;;;;;;AAMA,eAAU,kBAAU,OAAV,EAAmB,KAAnB,EAA0B;AAChC,WAAI,WAAW,KAAK,OAAL,CAAa,sBAAb,CAAoC,eAApC,EAAqD,CAArD,CAAX,CAD4B;AAEhC,gBAAS,KAAT,CAAe,KAAf,GAAuB,OAAO,UAAU,KAAV,CAAP,GAA0B,GAA1B,CAFS;MAA1B;IAZd;EAZJ;;;AAgCA,MAAK,SAAL,CAAe,KAAf,CAAqB,OAArB,GAA+B,KAAK,SAAL,CAAe,KAAf,CAAqB,OAArB;;SAGd,UAAR,K","file":"sf.locker.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"sf\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"sf\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"sf\")) : factory(root[\"sf\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 264cf0ed84b80836f5cc\n **/","\"use strict\";\r\nimport sf from 'sf';//resolved in webpack's \"externals\"\r\nimport Lock from './Lock';\r\n\r\nsf.registerInstanceType(Lock);\r\n\r\nmodule.exports = Lock;   // ES6 default export will not expose us as global\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"sf\"\n ** module id = 1\n ** module chunks = 0 1\n **/","\"use strict\";\r\nimport sf from 'sf';//resolved in webpack's \"externals\"\r\n\r\n/**\r\n * Spiral lock for forms\r\n * @constructor Lock\r\n */\r\n\r\nvar Lock = function (sf, node, options) {\r\n    this._construct(sf, node, options);\r\n};\r\n\r\n/**\r\n * @lends Lock.prototype\r\n */\r\nLock.prototype = sf.createModulePrototype();\r\n\r\n/**\r\n * Name of module\r\n * @type {string}\r\n */\r\nLock.prototype.name = \"lock\";\r\n\r\n/**\r\n * Function that call on new instance is created.\r\n * @param {Object} sf\r\n * @param {Object} node  DomNode of form\r\n * @param {Object} [options] all options to override default\r\n * @private\r\n */\r\nLock.prototype._construct = function (sf, node, options) {\r\n    this.init(sf, node, options);//call parent\r\n    this.add(this.options.type, this.node);\r\n};\r\n/**\r\n * Add lock\r\n * @param {String} [type] type of lock @see sf.lock.types\r\n * @param {Object} context context to add lock\r\n * @returns {Function|*}\r\n */\r\nLock.prototype.add = function (type, context) {\r\n    if (!this.types.hasOwnProperty(type)) {\r\n        return false;\r\n    }\r\n    var node = document.createElement(\"div\");\r\n    node.className = this.types[type].className || 'js-sf-lock';\r\n    node.innerHTML = this.types[type].html;\r\n    context.appendChild(node);\r\n    context.classList.add(\"locked\");\r\n    return this.types[type].progress;\r\n};\r\n/**\r\n * Clear all variables and die\r\n */\r\nLock.prototype.die = function () {\r\n    this.remove();\r\n};\r\n/**\r\n * Remove lock\r\n */\r\nLock.prototype.remove = function () {\r\n    this.node.classList.remove(\"locked\");\r\n    var sfLock = this.node.querySelector(\".js-sf-lock\");//todo this.lockNode ?\r\n    if (sfLock) {\r\n        this.node.removeChild(sfLock);\r\n    }\r\n    return true;\r\n};\r\n/**\r\n * Object with lock types.\r\n * @enum {Object}\r\n */\r\nLock.prototype.types = {\r\n    /**\r\n     * @type {Object}\r\n     */\r\n    spinner: {\r\n        /**\r\n         * HTML\r\n         * @inner\r\n         * @type String\r\n         */\r\n        html: '<div class=\"sf-spinner\"></div>'\r\n    },\r\n    progress: {\r\n        /**\r\n         * HTML\r\n         * @inner\r\n         * @type String\r\n         */\r\n        html: '<div class=\"sf-progress\"><div class=\"progress-line\"></div></div>',\r\n        /**\r\n         * Function to change styles while AJAX progress\r\n         * @param current\r\n         * @param total\r\n         */\r\n        progress: function (current, total) {\r\n            var progress = this.context.getElementsByClassName(\"progress-line\")[0];\r\n            progress.style.width = 100 * (current / total) + \"%\";\r\n        }\r\n    }\r\n};\r\n\r\n//we have to have some default locker, let it be spinner\r\nLock.prototype.types.default = Lock.prototype.types.spinner;\r\n\r\n\r\nexport { Lock as default };\n\n\n/** WEBPACK FOOTER **\n ** ./src/Lock.js\n **/"],"sourceRoot":""}