{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6**","webpack:///sf.input.min.js","webpack:///webpack/bootstrap a4a9bddc59a18219d68c?4e96**","webpack:///./src/input/index.js?4521","webpack:///external \"sf\"?eecf**","webpack:///./~/babel-runtime/core-js/object/create.js?aa4b**","webpack:///./~/core-js/library/fn/object/create.js?738c**","webpack:///./~/core-js/library/modules/$.js?6ce7**","webpack:///./src/input/input.js?1781"],"names":["root","factory","exports","module","require","define","amd","a","i","this","__WEBPACK_EXTERNAL_MODULE_1__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_sf","_sf2","_input","_input2","instancesController","registerInstanceType","$","P","D","create","$Object","Object","getProto","getPrototypeOf","isEnum","propertyIsEnumerable","getDesc","getOwnPropertyDescriptor","setDesc","defineProperty","setDescs","defineProperties","getKeys","keys","getNames","getOwnPropertyNames","getSymbols","getOwnPropertySymbols","each","forEach","_create","_create2","value","undefined","Input","sf","node","options","_construct","prototype","core","BaseDOMConstructor","name","init","tools","extend","els","prefix","setPrefix","addPrefixEventListeners","pattern","setupPattern","addPatternEventListeners","optionsToGrab","domAttr","isValidPattern","match","that","_inputKeyPress","event","char","String","fromCharCode","keyCode","position","getCursorPosition","length","preventDefault","offset","formatCharacters","indexOf","futureValue","substring","patternWithEmpty","setCursorPosition","addEventListener","_inputFocus","setTimeout","patternString","replace","_inputKeyDown","console","log","_inputBlur","document","selection","focus","selectRange","createRange","moveStart","text","selectionStart","createTextRange","range","move","select","selectionEnd","getAttribute","placeholder","_initPattern","formattedPatternStr","formattedPatternWithEmptyStr","RegExp","bind","_inputKeyup","oldValue","removePatternEventListeners","removePrefixEventListeners","removeEventListener","die"],"mappings":"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","file":"sf.input.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"sf\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"sf\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"sf\")) : factory(root[\"sf\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"sf\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"sf\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"sf\")) : factory(root[\"sf\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _sf = __webpack_require__(1);\n\t\n\tvar _sf2 = _interopRequireDefault(_sf);\n\t\n\tvar _input = __webpack_require__(6);\n\t\n\tvar _input2 = _interopRequireDefault(_input);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_sf2.default.instancesController.registerInstanceType(_input2.default, \"sf-js-input\"); //resolved in webpack's \"externals\"\n\t\n\tmodule.exports = _input2.default; // ES6 default export will not expose us as global\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ },\n/* 2 */,\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = { \"default\": __webpack_require__(4), __esModule: true };\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar $ = __webpack_require__(5);\n\tmodule.exports = function create(P, D) {\n\t  return $.create(P, D);\n\t};\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar $Object = Object;\n\tmodule.exports = {\n\t  create: $Object.create,\n\t  getProto: $Object.getPrototypeOf,\n\t  isEnum: {}.propertyIsEnumerable,\n\t  getDesc: $Object.getOwnPropertyDescriptor,\n\t  setDesc: $Object.defineProperty,\n\t  setDescs: $Object.defineProperties,\n\t  getKeys: $Object.keys,\n\t  getNames: $Object.getOwnPropertyNames,\n\t  getSymbols: $Object.getOwnPropertySymbols,\n\t  each: [].forEach\n\t};\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _create = __webpack_require__(3);\n\t\n\tvar _create2 = _interopRequireDefault(_create);\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _sf = __webpack_require__(1);\n\t\n\tvar _sf2 = _interopRequireDefault(_sf);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t//resolved in webpack's \"externals\"\n\t\n\tvar Input = function Input(sf, node, options) {\n\t    this._construct(sf, node, options);\n\t};\n\t\n\t/**\n\t * @lends sf.Form.prototype\n\t */\n\tInput.prototype = (0, _create2.default)(_sf2.default.modules.core.BaseDOMConstructor.prototype);\n\t\n\t/**\n\t * Name to register\n\t * @type {string}\n\t */\n\tInput.prototype.name = \"input\";\n\t\n\tInput.prototype._construct = function (sf, node, options) {\n\t\n\t    this.init(sf, node, options); //call parent\n\t\n\t    if (options) {\n\t        //if we pass options extend all options by passed options\n\t        this.options = sf.tools.extend(this.options, options);\n\t    }\n\t\n\t    //elements\n\t    this.els = {\n\t        node: node\n\t    };\n\t\n\t    if (this.options.prefix) {\n\t        this.setPrefix();\n\t        this.addPrefixEventListeners();\n\t    } else if (this.options.pattern) {\n\t        this.setupPattern();\n\t        this.addPatternEventListeners();\n\t    }\n\t};\n\t\n\t/**\n\t * @override\n\t * @inheritDoc\n\t * @enum {string}\n\t */\n\tInput.prototype.optionsToGrab = {\n\t    /**\n\t     *  Pattern of input\n\t     */\n\t    \"pattern\": {\n\t        \"domAttr\": \"data-pattern\"\n\t    },\n\t    /**\n\t     *  Prefix of  input\n\t     */\n\t    \"prefix\": {\n\t        \"domAttr\": \"data-prefix\"\n\t    }\n\t\n\t};\n\t\n\t/**\n\t * Setup pattern\n\t */\n\tInput.prototype.isValidPattern = function () {\n\t    return this.els.node.value.match(this.pattern);\n\t};\n\t\n\tInput.prototype.addPatternEventListeners = function () {\n\t    var that = this;\n\t\n\t    this._inputKeyPress = function (event) {\n\t\n\t        var char = String.fromCharCode(event.keyCode);\n\t        var value = that.els.node.value;\n\t        var position = that.getCursorPosition();\n\t\n\t        if (char.length > 0) {\n\t            event.preventDefault();\n\t            var offset = 1;\n\t            for (var i = position; i < value.length; i++) {\n\t                if (that.formatCharacters.indexOf(value[i]) !== -1) {\n\t                    offset++;\n\t                } else {\n\t                    break;\n\t                }\n\t            }\n\t\n\t            var futureValue = value.substring(0, position + offset - 1) + char + value.substring(position + offset, value.length);\n\t\n\t            if (!futureValue.match(that.patternWithEmpty)) {\n\t                return false;\n\t            } else {\n\t                that.els.node.value = futureValue;\n\t                that.setCursorPosition(position + offset);\n\t                return false;\n\t            }\n\t        }\n\t        return true;\n\t    };\n\t    this.els.node.addEventListener('keypress', this._inputKeyPress);\n\t\n\t    this._inputFocus = function (event) {\n\t        event.preventDefault();\n\t\n\t        setTimeout(function () {\n\t            if (that.els.node.value == \"\") {\n\t                that.els.node.value = that.patternString.replace(/[^\\-\\(\\)\\[\\]\\:\\.\\,\\$\\%\\@\\ \\/]/g, '_');\n\t                that.setCursorPosition(0);\n\t            }\n\t        }, 0);\n\t    };\n\t    this.els.node.addEventListener('focus', this._inputFocus);\n\t\n\t    this._inputKeyDown = function (event) {\n\t        var char = String.fromCharCode(event.keyCode);\n\t        var value = that.els.node.value;\n\t        var position = that.getCursorPosition();\n\t\n\t        if (event.keyCode == 8 || event.keyCode == 46) {\n\t            event.preventDefault();\n\t            var offset = 0;\n\t            for (var i = position - 1; i > 0; i--) {\n\t                if (that.formatCharacters.indexOf(value[i]) !== -1) {\n\t                    offset--;\n\t                } else {\n\t                    break;\n\t                }\n\t            }\n\t\n\t            var futureValue = value.substring(0, position + offset - 1) + '_' + value.substring(position + offset, value.length);\n\t\n\t            if (!futureValue.match(that.patternWithEmpty)) {\n\t                return false;\n\t            } else {\n\t                console.log(futureValue);\n\t                that.els.node.value = futureValue;\n\t                that.setCursorPosition(position + offset - 1);\n\t                return false;\n\t            }\n\t        } else if (char.match(/\\W/)) {\n\t            return false;\n\t        }\n\t\n\t        return true;\n\t    };\n\t    this.els.node.addEventListener('keydown', this._inputKeyDown);\n\t\n\t    this._inputBlur = function (event) {\n\t        if (!that.els.node.value.match(that.pattern)) {\n\t            that.els.node.value = '';\n\t        }\n\t    };\n\t    this.els.node.addEventListener('blur', this._inputBlur);\n\t};\n\t\n\tInput.prototype.getCursorPosition = function () {\n\t    var position = 0;\n\t\n\t    if (document.selection) {\n\t        this.els.node.focus();\n\t\n\t        var selectRange = document.selection.createRange();\n\t\n\t        selectRange.moveStart(\"character\", -this.els.node.value.length);\n\t\n\t        position = selectRange.text.length;\n\t    } else if (this.els.node.selectionStart || this.els.node.selectionStart === \"0\") {\n\t        position = this.els.node.selectionStart;\n\t    }\n\t\n\t    return position;\n\t};\n\t\n\tInput.prototype.setCursorPosition = function (position) {\n\t    if (this.els.node.createTextRange) {\n\t        var range = this.els.node.createTextRange();\n\t        range.move('character', position);\n\t        range.select();\n\t    } else {\n\t        if (this.els.node.selectionStart) {\n\t            this.els.node.focus();\n\t            this.els.node.selectionStart = this.els.node.selectionEnd = position;\n\t        } else {\n\t            this.els.node.focus();\n\t        }\n\t    }\n\t};\n\t\n\tInput.prototype.setupPattern = function () {\n\t    this.formatCharacters = this.els.node.getAttribute('data-format-characters') || \"-()[]:.,$%@ /\";\n\t    this.patternString = this.options.pattern;\n\t    this.els.node.placeholder = this.patternString;\n\t\n\t    var _initPattern = function () {\n\t        var formattedPatternStr = \"\";\n\t        var formattedPatternWithEmptyStr = \"\";\n\t\n\t        for (var i = 0; i < this.patternString.length; i++) {\n\t            var char = this.patternString[i];\n\t\n\t            if (this.formatCharacters.indexOf(char) >= 0) {\n\t                formattedPatternStr += char;\n\t                formattedPatternWithEmptyStr += char;\n\t            } else if (char.match(/[0-9]/)) {\n\t                formattedPatternStr += \"[0-9]\";\n\t                formattedPatternWithEmptyStr += \"([0-9]|_)\";\n\t            } else if (char.match(/[a-zA-Z]/)) {\n\t                formattedPatternStr += \"[a-zA-Z]\";\n\t                formattedPatternWithEmptyStr += \"([a-zA-Z]|_)\";\n\t            } else if (char === \"*\") {\n\t                formattedPatternStr += \"[0-9a-zA-Z]\";\n\t                formattedPatternWithEmptyStr += \"([0-9a-zA-Z]|_)\";\n\t            }\n\t        }\n\t\n\t        this.pattern = new RegExp(\"^\" + formattedPatternStr + \"$\", 'g');\n\t        this.patternWithEmpty = new RegExp(\"^\" + formattedPatternWithEmptyStr + \"$\", 'g');\n\t    }.bind(this);\n\t\n\t    _initPattern();\n\t};\n\t\n\t/**\n\t * Adds static events listeners.\n\t */\n\tInput.prototype.addPrefixEventListeners = function () {\n\t    var that = this;\n\t\n\t    this._inputKeyup = function () {\n\t\n\t        var oldValue = this.getAttribute('data-prefix');\n\t\n\t        if (that.els.node.value.indexOf(oldValue) !== 0) {\n\t            that.els.node.value = oldValue + ' ';\n\t        }\n\t    };\n\t    if (this.els.node) {\n\t        this.els.node.addEventListener('keyup', this._inputKeyup);\n\t    }\n\t};\n\t\n\tInput.prototype.removePatternEventListeners = function () {\n\t    if (this.els.node) {\n\t        this.els.node.addEventListener('keypress', this._inputKeyPress);\n\t        this.els.node.addEventListener('focus', this._inputFocus);\n\t        this.els.node.addEventListener('keydown', this._inputKeyDown);\n\t        this.els.node.addEventListener('blur', this._inputBlur);\n\t    }\n\t};\n\t\n\tInput.prototype.removePrefixEventListeners = function () {\n\t    if (this.els.node) {\n\t        this.els.node.removeEventListener('keyup', this._inputKeyup);\n\t    }\n\t};\n\t\n\tInput.prototype.die = function () {\n\t    if (this.options.pattern) {\n\t        this.removePatternEventListeners();\n\t    } else if (this.options.prefix) {\n\t        this.removePrefixEventListeners();\n\t    }\n\t    delete this;\n\t};\n\t\n\tInput.prototype.setPrefix = function () {\n\t    this.els.node.value = this.options.prefix + \" \" + this.els.node.value;\n\t};\n\t\n\texports.default = Input;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** sf.input.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap a4a9bddc59a18219d68c\n **/","\"use strict\";\nimport sf from 'sf';//resolved in webpack's \"externals\"\nimport Input from './input';\n\nsf.instancesController.registerInstanceType(Input,\"sf-js-input\");\nmodule.exports = Input;   // ES6 default export will not expose us as global\n\n\n/** WEBPACK FOOTER **\n ** ./src/input/index.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"sf\"\n ** module id = 1\n ** module chunks = 0 1 2 3\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-runtime/core-js/object/create.js\n **/","var $ = require('../../modules/$');\nmodule.exports = function create(P, D){\n  return $.create(P, D);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/fn/object/create.js\n **/","var $Object = Object;\nmodule.exports = {\n  create:     $Object.create,\n  getProto:   $Object.getPrototypeOf,\n  isEnum:     {}.propertyIsEnumerable,\n  getDesc:    $Object.getOwnPropertyDescriptor,\n  setDesc:    $Object.defineProperty,\n  setDescs:   $Object.defineProperties,\n  getKeys:    $Object.keys,\n  getNames:   $Object.getOwnPropertyNames,\n  getSymbols: $Object.getOwnPropertySymbols,\n  each:       [].forEach\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/$.js\n **/","\"use strict\";\n\nimport sf from 'sf';//resolved in webpack's \"externals\"\n\nvar Input = function (sf, node, options) {\n    this._construct(sf, node, options);\n};\n\n/**\n * @lends sf.Form.prototype\n */\nInput.prototype = Object.create(sf.modules.core.BaseDOMConstructor.prototype);\n\n/**\n * Name to register\n * @type {string}\n */\nInput.prototype.name = \"input\";\n\nInput.prototype._construct = function (sf, node, options) {\n\n    this.init(sf, node, options);//call parent\n\n    if (options) {//if we pass options extend all options by passed options\n        this.options = sf.tools.extend(this.options, options);\n    }\n\n\n    //elements\n    this.els = {\n        node: node\n    };\n\n    if(this.options.prefix){\n        this.setPrefix();\n        this.addPrefixEventListeners()\n    } else if(this.options.pattern) {\n        this.setupPattern();\n        this.addPatternEventListeners();\n    }\n};\n\n\n/**\n * @override\n * @inheritDoc\n * @enum {string}\n */\nInput.prototype.optionsToGrab  = {\n    /**\n     *  Pattern of input\n     */\n    \"pattern\": {\n        \"domAttr\": \"data-pattern\"\n    },\n    /**\n     *  Prefix of  input\n     */\n    \"prefix\": {\n        \"domAttr\": \"data-prefix\"\n    }\n\n};\n\n\n/**\n * Setup pattern\n */\nInput.prototype.isValidPattern = function() {\n    return this.els.node.value.match(this.pattern)\n}\n\nInput.prototype.addPatternEventListeners = function() {\n    var that = this;\n\n    this._inputKeyPress = function(event) {\n\n        var char = String.fromCharCode(event.keyCode);\n        var value = that.els.node.value\n        var position = that.getCursorPosition()\n\n        if (char.length > 0) {\n            event.preventDefault()\n            var offset = 1;\n            for (var i = position; i < value.length; i++) {\n                if (that.formatCharacters.indexOf(value[i]) !== -1) {\n                    offset++;\n                } else {\n                    break\n                }\n            }\n\n            var futureValue = value.substring(0, position + offset - 1) + char + value.substring(position + offset, value.length)\n\n            if (!futureValue.match(that.patternWithEmpty)) {\n                return false\n            } else {\n                that.els.node.value = futureValue;\n                that.setCursorPosition(position + offset)\n                return false\n            }\n        }\n        return true\n    }\n    this.els.node.addEventListener('keypress', this._inputKeyPress);\n\n    this._inputFocus = function(event) {\n        event.preventDefault()\n\n        setTimeout(function(){\n            if(that.els.node.value == \"\"){\n                that.els.node.value = that.patternString.replace(/[^\\-\\(\\)\\[\\]\\:\\.\\,\\$\\%\\@\\ \\/]/g, '_')\n                that.setCursorPosition(0)\n            }\n        }, 0)\n    }\n    this.els.node.addEventListener('focus', this._inputFocus);\n\n    this._inputKeyDown = function(event){\n        var char = String.fromCharCode(event.keyCode);\n        var value = that.els.node.value\n        var position = that.getCursorPosition()\n\n        if(event.keyCode == 8 || event.keyCode == 46){\n            event.preventDefault()\n            var offset = 0;\n            for(var i = position -1; i > 0; i--){\n                if(that.formatCharacters.indexOf(value[i]) !== -1){\n                    offset--;\n                } else {\n                    break\n                }\n            }\n\n            var futureValue = value.substring(0, position + offset - 1) + '_' + value.substring(position + offset, value.length)\n\n            if(!futureValue.match(that.patternWithEmpty)){\n                return false\n            } else {\n                console.log(futureValue)\n                that.els.node.value = futureValue;\n                that.setCursorPosition(position + offset - 1)\n                return false\n            }\n        } else if(char.match(/\\W/)){\n            return false;\n        }\n\n        return true\n    }\n    this.els.node.addEventListener('keydown', this._inputKeyDown);\n\n    this._inputBlur = function(event) {\n        if(!that.els.node.value.match(that.pattern)) {\n            that.els.node.value = ''\n        }\n    }\n    this.els.node.addEventListener('blur', this._inputBlur);\n\n}\n\nInput.prototype.getCursorPosition = function() {\n    var position = 0;\n\n    if (document.selection) {\n        this.els.node.focus();\n\n        var selectRange = document.selection.createRange();\n\n        selectRange.moveStart(\"character\", -this.els.node.value.length);\n\n        position = selectRange.text.length;\n    } else if (this.els.node.selectionStart || this.els.node.selectionStart === \"0\") {\n        position = this.els.node.selectionStart;\n    }\n\n    return position;\n};\n\nInput.prototype.setCursorPosition = function(position) {\n    if(this.els.node.createTextRange) {\n        var range = this.els.node.createTextRange();\n        range.move('character', position);\n        range.select();\n    } else {\n        if(this.els.node.selectionStart) {\n            this.els.node.focus()\n            this.els.node.selectionStart = this.els.node.selectionEnd = position;\n        } else {\n            this.els.node.focus();\n        }\n    }\n}\n\nInput.prototype.setupPattern = function() {\n    this.formatCharacters = this.els.node.getAttribute('data-format-characters') || \"-()[]:.,$%@ /\"\n    this.patternString = this.options.pattern;\n    this.els.node.placeholder = this.patternString;\n\n    var _initPattern = function(){\n        var formattedPatternStr = \"\"\n        var formattedPatternWithEmptyStr = \"\"\n\n        for(var i = 0; i < this.patternString.length; i++){\n            var char = this.patternString[i];\n\n            if(this.formatCharacters.indexOf(char) >= 0){\n                formattedPatternStr += char\n                formattedPatternWithEmptyStr += char\n            } else if(char.match(/[0-9]/)){\n                formattedPatternStr += \"[0-9]\";\n                formattedPatternWithEmptyStr += \"([0-9]|_)\"\n            } else if(char.match(/[a-zA-Z]/)) {\n                formattedPatternStr += \"[a-zA-Z]\";\n                formattedPatternWithEmptyStr += \"([a-zA-Z]|_)\"\n            } else if(char === \"*\"){\n                formattedPatternStr += \"[0-9a-zA-Z]\"\n                formattedPatternWithEmptyStr += \"([0-9a-zA-Z]|_)\"\n            }\n        }\n\n        this.pattern = new RegExp(\"^\" + formattedPatternStr + \"$\", 'g')\n        this.patternWithEmpty = new RegExp(\"^\" + formattedPatternWithEmptyStr + \"$\", 'g')\n    }.bind(this)\n\n    _initPattern()\n}\n\n\n/**\n * Adds static events listeners.\n */\nInput.prototype.addPrefixEventListeners = function () {\n    var that = this;\n\n    this._inputKeyup = function(){\n\n        var oldValue = this.getAttribute('data-prefix');\n\n        if( that.els.node.value.indexOf(oldValue) !== 0 ){\n            that.els.node.value = oldValue + ' ';\n        }\n    };\n    if (this.els.node) {\n        this.els.node.addEventListener('keyup', this._inputKeyup);\n    }\n};\n\nInput.prototype.removePatternEventListeners = function () {\n    if (this.els.node) {\n        this.els.node.addEventListener('keypress', this._inputKeyPress);\n        this.els.node.addEventListener('focus', this._inputFocus);\n        this.els.node.addEventListener('keydown', this._inputKeyDown);\n        this.els.node.addEventListener('blur', this._inputBlur);\n    }\n};\n\nInput.prototype.removePrefixEventListeners = function () {\n    if (this.els.node) {\n        this.els.node.removeEventListener('keyup', this._inputKeyup);\n    }\n};\n\nInput.prototype.die = function () {\n    if(this.options.pattern) {\n        this.removePatternEventListeners();\n    } else if (this.options.prefix) {\n        this.removePrefixEventListeners();\n    }\n    delete this;\n};\n\nInput.prototype.setPrefix = function () {\n    this.els.node.value = this.options.prefix + \" \" + this.els.node.value;\n}\n\nexport { Input as default };\n\n\n/** WEBPACK FOOTER **\n ** ./src/input/input.js\n **/"],"sourceRoot":""}